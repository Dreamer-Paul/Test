# 安装

推荐使用 Typecho 的最新正式版本安装本插件，并采用 PHP 7x 作为开发环境。


## 全新安装

从 [GitHub](https://github.com/Dreamer-Paul/Pio) 上获取本项目。

将插件压缩包上传到你的网站。Typecho 插件的默认存放路径在 `/usr/plugins`

解压主题的压缩包文件，默认得到一个文件夹，应该为 `Pio-master`

将文件夹更名为 `Pio` 以确保插件可以正常工作

登录你的 Typecho 后台，在导航栏找到 控制台 > 外观 > Single Theme > 启用

## 更新安装

打开插件的选项，将里面的设置内容逐一拷贝到记事本

禁用本插件，并删除旧版插件原有的文件

从 [GitHub](https://github.com/Dreamer-Paul/Pio) 上获取本项目。

将插件压缩包上传到你的网站。Typecho 插件的默认存放路径在 `/usr/plugins`

解压主题的压缩包文件，默认得到一个文件夹，应该为 `Pio-master`

将文件夹更名为 `Pio` 以确保插件可以正常工作

启用插件，将设置内容逐一填入文本框内

# 后台设置

后台设置的提示内容和内容选择器需要自行填写 JSON，如果需要保持默认则需要填写 “{}”

> 从 2.1 版本开始增加了检测功能，如选项留空会自动进行补全。

## 选择模型

这里的模型均位于 `插件目录/models` 文件夹，并且所有模型的配置文件名必须为 `model.json` 才可以正常使用。

## 自定位置

可选靠左或靠右，根据你所使用的主题布局来进行决定。

## 自定宽高

如果你在 [梦象](https://mx-model.ga) 下载模型，一般会给你推荐高宽。按照这个填入即可，无需 `px` 单位。如果没有推荐高宽，你可以自行修改测试。修改成功后看板娘就不会出现显示不全的问题啦！

## 自定配置文件

用于使用外链模型。填写该选项后，上面选择的模型均无效。前台仅显示这里填写的一个模型。


## 夜间模式函数

用于切换主题的夜间模式。如果你的主题支持切换夜间模式，在这里填写对应的方法可以在看板娘中点击按钮进行调用。例如在 `Single` 主题下，其夜间模式切换方法为 `single.night()`

## 展现模式

 - **静态**：只保留看板娘自身和文字提示，适合所有模型。
 - **固定**：固定看板娘的位置，增加功能按钮，适合所有模型。
 - **可移动**：看板娘的位置可以被用户更改，也保留了功能按钮，不适合半身模型。

## 隐藏看板娘

用于控制是否在移动设备上隐藏看板娘。可以改善部分低配设备的浏览性能。

## 时间小贴士

用于在指定时间展示对应的生活小贴士，如果开启将覆盖入站提示内容。

## 自定提示内容

提示内容一共有以下几个参数可以自行设置，如不额外设置参数则为插件默认的提示文字，按照自己的需求填写即可覆盖默认设置。

- `welcome`：欢迎入站的信息
- `article`：设置文章内容时的对应提示内容，`%t` 为文章标题
- `touch`：点击~~触摸~~看板娘时随机提示的文字
- `skin`：鼠标移入切换皮肤 / 人物按钮时的提示文字
- `home`：鼠标移入进入首页按钮的提示文字
- `link`：关于本站按钮的跳转链接（2.1 更新）
- `close`：鼠标移入关闭看板娘按钮的提示文字

### 示例

提示内容最全可以写成这样，当然你可以把这段复制下来自己研究和修改。

```json
{
    "welcome": ["你好，欢迎来到保罗的小窝", "我是从云，傲完就娇的从云~"],
    "article": "想阅读 %t 吗？",
    "touch": ["你这个绅士！", "别碰我！"],
    "skin": ["想看看我的新服装吗？", "新衣服真漂亮~"],
    "home": "点击这里进入首页！",
    "link": "https://paul.ren/about",
    "close": "QWQ 下次再见吧~"
}
```

下面是各项参数的详细说明：

### welcome

【2.1 版本及以上】允许字符串或数组，用于用户进站提示。不填本参数则为默认输出。

```json
默认："欢迎来到本站！"
示例："欢迎来到保罗的博客！"、["欢迎来到保罗的小窝", "我是从云，傲完就娇的从云~"] 或不填本参数。
```

【2.0 版本】只允许数组，用于用户进站提示。里面有两个项目，分别是直接进站和跳转入站的文字内容。其中 `%t` 是来源站点，第一项必填，不填则为默认输出。

```json
默认：["欢迎来到保罗的博客！", "欢迎来自 %t 的朋友！"]
示例：["欢迎来到保罗的博客！"]、["欢迎来到保罗的小窝", "我是从云，傲完就娇的从云~"] 或不填本参数。
```

### article

只允许字符串，填写当鼠标移入选择器指定的文章链接时看板娘的提示内容，其中 `%t` 为链接文字，不填则为默认输出。

```json
默认："想阅读 %t 吗？"
示例："想阅读 %t 吗？" 或不填本参数。
```

### touch

允许字符串或数组，填写点击看板娘的提示内容。不填本参数则为默认输出。

```json
默认：["你在干什么？", "再摸我就报警了！", "HENTAI!", "你够了喔！"]
示例："别碰我！"、["你在干什么？", "萝莉是什么呀"] 或不填。
```

### skin

只允许数组，用于用户更换皮肤或模型。里面有两个项目，分别是点击更换的提示和更换完成后的提示。不填本参数则为默认输出。

```json
默认：["想看看我的新衣服吗？", "新衣服真漂亮~"]
示例：["要让我的朋友上阵吗？", "让她休息一会儿吧~"] 或 ["要让我的朋友上阵吗？"]
```

### home

允许字符串或数组，填写点击返回首页按钮时看板娘的提示内容。不填本参数则为默认输出。

```json
默认："点击这里回到首页！"
示例：["点击这里回到首页！", "让我们回家吧！"]
```

### close

允许字符串或数组，填写点击关闭看板娘按钮的提示内容。不填本参数则为默认输出。

```json
默认："QWQ 下次再见吧~"
示例：["Bye! ", "下次再见吧~"]
```

### link（2.1 新增）

允许字符串，用于修改“关于”按钮的链接地址。不填本参数则为默认输出。

```json
默认："https://paugram.com/coding/add-poster-girl-with-plugin.html"
示例："https://paul.ren/about"
```

### referer（2.1 新增）

允许字符串，用于修改其他来源进站的提示。不填本参数则为默认输出。

```json
默认："欢迎来自 %t 的朋友！"
示例："Hi，欢迎你在 %t 的指引下来到这里~"
```

## 自定内容选择器

内容选择器用于完成鼠标点击或移入等操作时使看板娘提示内容，目前只支持添加提示阅读的链接。只需要像 CSS 一样写即可正常识别。


- articles：文章阅读提示

### 示例

像下面这样的 HTML 结构，我们只需要填写 `.post-item h3` 即可完成该选择器的配置。如果不填该参数则没有文章提示功能。

```html
<div class="post-item">
    <a href="post.html">
        <h3>这是一个文章</h3>
    </a>
</div>
```

对应的 JSON 配置也就是这样：

```json
{
    "articles": ".post-item h3"
}
```

下面是各项参数的详细说明：

### articles

只允许字符串，用于设置鼠标移入选择器指定的文章链接时看板娘的提示内容。不填则不启用该功能。

    示例：".post-item h3"